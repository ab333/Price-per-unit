<!DOCTYPE html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<style type="text/css">
td {
	padding: 3px;
	border: 1px solid silver;
	height: 41px;
    width: 41px;
}
td div.blue {
	background: no-repeat url("blue.png") 8px;
	height: 41px;
    margin: 0 -8px;
    padding: 0px;
}
td div.red {
	background: no-repeat url("red.png") 8px;
	height: 41px;
    margin: 0 -8px;
    padding: 0px;
}
td div.grey {
	background: no-repeat url("grey.png") 8px;
	height: 41px;
    margin: 0 -8px;
    padding: 0px;
}

</style>
<div>
<table style="border: 1px solid;">
<tr>
	<td><div class="x"></div></td>
	<td><div class="x"></div></td>
	<td><div class="x"></div></td>
	<td><div class="x"></div></td>
	<td><div class="x"></div></td>
	<td><div class="x"></div></td>
	<td><div class="x"></div></td>
</tr>
<tr>
	<td><div class="x"></div></td>
	<td><div class="x"></div></td>
	<td><div class="x"></div></td>
	<td><div class="x"></div></td>
	<td><div class="x"></div></td>
	<td><div class="x"></div></td>
	<td><div class="x"></div></td>
</tr><tr>
	<td><div class="x"></div></td>
	<td><div class="x"></div></td>
	<td><div class="x"></div></td>
	<td><div class="x"></div></td>
	<td><div class="x"></div></td>
	<td><div class="x"></div></td>
	<td><div class="x"></div></td>
</tr><tr>
	<td><div class="x"></div></td>
	<td><div class="x"></div></td>
	<td><div class="x"></div></td>
	<td><div class="x"></div></td>
	<td><div class="x"></div></td>
	<td><div class="x"></div></td>
	<td><div class="x"></div></td>
</tr><tr>
	<td><div class="x"></div></td>
	<td><div class="x"></div></td>
	<td><div class="x"></div></td>
	<td><div class="x"></div></td>
	<td><div class="x"></div></td>
	<td><div class="x"></div></td>
	<td><div class="x"></div></td>
</tr><tr>
	<td><div class="x"></div></td>
	<td><div class="x"></div></td>
	<td><div class="x"></div></td>
	<td><div class="x"></div></td>
	<td><div class="x"></div></td>
	<td><div class="x"></div></td>
	<td><div class="x"></div></td>
</tr>
</table></div>
<script type="text/javascript">
/*
$('.red, .blue, .x').click(function() {                             
    this.className = {
       x : 'red', red: 'blue', blue: 'x'
    }[this.className];
});
*/
i=0;
$('td').click(function(){
	if($(this).find("div").hasClass('blue') && $(this).find("div").hasClass('red')) {
		$(this).find("div").removeClass('red');
		$(this).find("div").removeClass('blue');
	}
	else if($(this).find("div").hasClass('blue')) {
		$(this).find("div").addClass('red');
		//$(this).find("div").removeClass('blue');
	}
	else {
		if(i==0) {
			$(this).find("div").removeClass('blue');
			$(this).find("div").addClass('red');
			i++;
		}
		else {
			$(this).find("div").removeClass('red');
			$(this).find("div").addClass('blue');
			i--;
		}
	}
	});


</script>
